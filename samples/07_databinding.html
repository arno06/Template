<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>Puppy</title>
        <script src="../src/Renderer.js"></script>
        <script src="../src/Template.js"></script>
        <script src="../src/TemplateDataBinding.js"></script>
    </head>
    <body>
        <div>
            <button onclick="switchSources()">Switch Source</button>
        </div>
        <div id="myContainer" data-source="mySample" data-template="myTemplate"></div>
        <script type="text/template" id="myTemplate">
            <h1>Hello {$who}</h1>
            <ul>
                {foreach from=$itera}
                <li>{$item}</li>
                {/foreach}
            </ul>
        </script>
        <script>
            var sources = [
                {
                    'who':'World (probably)',
                    'itera':'oh my god it\'s working'.split(' ')
                },
                {
                    'who':'Bouboup',
                    'itera':'this is awsome'.split(' ')
                }
            ];
            var sample;
            var current = 0;
            function switchSources()
            {
                current = !current?1:0;
                sample.data = sources[current];
            }
            function init()
            {
                sample = Template.DataBinding.source('mySample', sources[current]);
                Template.DataBinding.container(document.querySelector('#myContainer'));
            }
            window.addEventListener('DOMContentLoaded', init, false);
        </script>
    </body>
</html>