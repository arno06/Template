<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>Puppy</title>
        <script src="../../Dependencies/src/?need=Template"></script>
        <script src="../src/Puppy.js"></script>
    </head>
    <body>
        <div>
            <button onclick="switchSources()">Switch Source</button>
        </div>
        <div id="myContainer" data-handler="Puppy" data-source="Puppy.mySample" data-template="myTemplate"></div>
        <script type="text/template" id="myTemplate">
            <h1>Hello {$who}</h1>
            <ul>
                {foreach $itera $item}
                <li>{$item}</li>
                {/foreach}
            </ul>
        </script>
        <script>
            var sources = [
                {
                    'who':'World (probably)',
                    'itera':'oh my god it\'s working'.split(' ')
                },
                {
                    'who':'Bouboup',
                    'itera':'this is awsome'.split(' ')
                }
            ];
            var sample;
            var current = 0;
            function switchSources()
            {
                current = !current?1:0;
                sample.setData(sources[current]);
            }
            function init()
            {
                sample = Puppy.define.source('mySample', sources[current]);
                Puppy.define.container(document.querySelector('#myContainer'));
            }
            window.addEventListener('DOMContentLoaded', init, false);
        </script>
    </body>
</html>